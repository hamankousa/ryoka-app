# Figma UI設計手順書

最終更新: 2026-02-19

対象: 寮歌集アプリ（iOS/Android想定、必要に応じてWebへ展開）

## 1. 目的

- 実装前に画面構成と操作導線を固定し、手戻りを減らす
- 開発者へ一貫したUI仕様（余白、色、状態、遷移）を引き継ぐ

## 2. スコープ定義（最初に決める）

- 対象ユーザー: 寮歌を検索し、再生し、歌詞/楽譜を閲覧し、オフライン保存する利用者
- 最低対象機能:
  - ホーム（機能導線 + 更新情報）
  - 検索（キーワード + 元号/年代/年次フィルタ）
  - 一覧（元号セクション）
  - ライブラリ（オフライン保存管理）
  - 曲詳細（ダウンロード状態/歌詞/楽譜導線）
  - 歌詞画面
  - 楽譜画面（ズーム操作）
  - 設定画面（テーマ/プレイヤー表示/検索挙動）
- 対象デバイス:
  - 初版はスマホ基準（例: `390x844`）
  - タブレット/Webは後追いでレイアウト拡張

## 3. 手順

1. 要件を1ページで整理する
- `誰が / いつ / 何をしたいか` を3-5個のユースケースに分解する
- 例: `検索 -> 曲詳細 -> ダウンロード -> オフラインで歌詞/楽譜閲覧`

2. 画面一覧と遷移図を作る
- 先にサイトマップ（画面一覧）を作成する（下記ルート名に合わせる）
- タブ:
  - `home`
  - `search`
  - `list`
  - `library`
- タブ外遷移:
  - `song/[songId]`
  - `lyrics/[songId]`
  - `score/[songId]`
  - `settings`
  - `legal`
- 主フローは `探す -> 再生/歌詞確認 -> オフライン保存` を中心にする

3. 低忠実度ワイヤーを作る
- 色や装飾を入れず、情報配置と導線のみ確定する
- 下部に常設される共通ミニプレイヤー領域を最初から確保する

4. デザイントークンを定義する
- `Color / Typography / Spacing(8pt) / Radius / Shadow` を先に作る
- 後工程の差分対応のため、値は変数管理する

5. コンポーネント化する
- 最低コンポーネント:
  - Button（Primary/Secondary/Disabled）
  - Song List Item
  - Search Field + Filter Chip
  - Tab Bar
  - Mini Player（常設）
  - Download Status Badge + Action Button（DL/再試行/中止/削除）
- 画面ごとの独自スタイルは避け、Variantsで管理する

6. ハイファイ化する
- ワイヤーをコンポーネントに置換する
- 歌詞画面は可読性優先で調整する（文字サイズ、行間、余白、コントラスト）
- 楽譜画面はズームバー（`- / % / +`）を前提に構成する

7. プロトタイプで主要遷移を接続する
- 最低接続:
  - 一覧/検索/ライブラリ -> 曲詳細
  - 一覧/検索/ライブラリ -> 歌詞
  - 一覧/検索/ライブラリ -> 楽譜
  - 曲詳細 -> ダウンロード操作（DL/再試行/中止/削除）
  - ホーム -> 設定/法務
  - タブ切り替え

8. レビューと修正を行う
- 2-3人に操作してもらい、迷う箇所を記録する
- 問題は `優先度 / 発生画面 / 修正案` の形式で残す

## 4. 最初に作るべき画面（実装準拠）

1. `01_Home`（機能導線 + 更新情報）
2. `02_Search`（検索 + 元号/年代/年次フィルタ + 一括DL）
3. `03_List`（元号セクション一覧 + 一括DL）
4. `04_Library`（オフライン保存曲管理 + 全曲一括DL）
5. `05_SongDetail`（曲情報 + DL状態 + 歌詞/楽譜導線）
6. `06_Lyrics`（歌詞閲覧）
7. `07_Score`（楽譜閲覧 + ズーム）
8. `08_Settings`（テーマ/プレイヤー表示/検索設定）

## 5. 開発引き継ぎチェックリスト

- コンポーネント名とVariants名が一貫している
- 余白ルール（8ptグリッド）が守られている
- 状態差分（通常/押下/無効/読み込み）が定義済み
- アイコンサイズとタップ領域が揃っている
- 遷移仕様（どこからどこへ、戻り先）が明記されている
- Dev Modeで寸法/余白/フォント/カラー値を参照可能
- Webで無効な操作（ダウンロードなど）が注記されている

## 6. 運用ルール（任意だが推奨）

- 新規画面追加時はワイヤーを先に更新してからハイファイ化する
- コンポーネント変更時は変更理由を1行で記録する
- リリース前は実機で文字可読性、タップ範囲、ミニプレイヤーとの干渉を再確認する
